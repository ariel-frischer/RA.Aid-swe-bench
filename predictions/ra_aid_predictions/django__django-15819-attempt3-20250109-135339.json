{
    "instance_id": "django__django-15819",
    "model_name_or_path": "ra-aid-model",
    "model_patch": "diff --git a/.gitignore b/.gitignore\nindex 238fb3a200..9870d457d8 100644\n--- a/.gitignore\n+++ b/.gitignore\n@@ -16,3 +16,4 @@ tests/coverage_html/\n tests/.coverage\n build/\n tests/report/\n+.aider*\ndiff --git a/django/core/management/commands/inspectdb.py b/django/core/management/commands/inspectdb.py\nindex f33bcbdccf..32da848d30 100644\n--- a/django/core/management/commands/inspectdb.py\n+++ b/django/core/management/commands/inspectdb.py\n@@ -177,6 +177,12 @@ class Command(BaseCommand):\n                             )\n                             if ref_pk_column and ref_pk_column != ref_db_column:\n                                 extra_params[\"to_field\"] = ref_db_column\n+                            # Generate related_name if the same model is referenced multiple times\n+                            if ref_db_table in [r[1] for r in relations.values()].count(ref_db_table) > 1:\n+                                extra_params[\"related_name\"] = \"%s_%s_set\" % (\n+                                    table2model(table_name).lower(),\n+                                    att_name,\n+                                )\n                         rel_to = (\n                             \"self\"\n                             if ref_db_table == table_name\n\n",
    "edited_files": [
        ".gitignore",
        "django/core/management/commands/inspectdb.py"
    ],
    "research": null,
    "attempt": 3,
    "timestamp": "2025-01-09T13:53:39.689516",
    "ra_aid_model": "openrouter/deepseek/deepseek-chat",
    "ra_aid_editor": "openrouter/deepseek/deepseek-chat"
}